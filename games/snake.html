<!DOCTYPE html>
<html> 
<head>
	<meta charset="utf-8">
	<title>Snake</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="snake.css">
</head>
<body>
<p><strong class="set">Snake</strong></p>
	<canvas id="gameCanvas" class="all-games-canvas" width="576" height="576"></canvas>

	<div id="text-align"><a href="../index.html"><button class="backtosite-button">Back to GameOpera!!</button></a></div>
	<script>
	window.onload=function() {
	canv = document.getElementById("gameCanvas");
	canv2 = document.getElementById("gameCanvas2");
	ctx = canv.getContext("2d");
	document.addEventListener('keydown',keyPush);
	setInterval(game, 1000/12);
}
px=py=10;
gs=tc=24;
ax=ay=15;
xv=yv=0;
trail=[];
tail=5;
function game() {
	px+=xv;
	py+=yv;
	if(px<0){
		px=tc-1;
	}
	if(px>tc-1){
		px=0;
	}
	if(py<0){
		py=tc-1;
	}
	if(py>tc-1){
		py=0;
	}

	ctx.fillStyle="black";
	ctx.fillRect(0,0,canv.width,canv.height);

	ctx.fillStyle="white";
	for(var i=0;i<trail.length;i++){
		ctx.fillRect(trail[i].x*gs,trail[i].y*gs,gs-2,gs-2);
		if(trail[i].x ==px && trail[i].y ==py){
		tail = 5;
		}
	}
	ctx.fillStyle="red";
	ctx.fillRect(ax*gs,ay*gs,gs-2,gs-2);
	trail.push({x:px,y:py});
	while(trail.length>tail){
		trail.shift();
	}
	if(ax==px && ay==py)
	{
		tail++;
		ax=Math.floor(Math.random()*tc);
		ay=Math.floor(Math.random()*tc);
	}
}
function keyPush(evt) {
	switch(evt.keyCode)
	{
		case 37:xv=-1,yv=0;
				break;
		case 38:xv=0,yv=-1;
				break;
		case 39:xv=1,yv=0;
				break;
		case 40:xv=0,yv=1;
				break;
	}
}
</script>
</body>
</html>
